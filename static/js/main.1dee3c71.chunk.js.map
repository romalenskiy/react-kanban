{"version":3,"sources":["constants/actionTypes.js","constants/seeds.js","reducers/laneReducer.js","reducers/cardReducer.js","store/index.js","action_creators/lanes.js","constants/dndTypes.js","components/Card/Card.jsx","components/Card/index.js","customHooks/useControlledInput/useControlledInput.js","customHooks/useControlledInput/index.js","customHooks/usComponentFocused/useComponentFocused.js","customHooks/usComponentFocused/index.js","components/AddNew/AddNew.jsx","components/AddNew/index.js","action_creators/cards.js","components/Lane/Lane.jsx","components/Lane/index.js","components/App/App.jsx","components/App/index.js","index.js","assets/img/plusIcon.svg","assets/img/crossIcon.svg"],"names":["LANE_ADD","CARD_ADD","CARD_MOVE","lanesSeed","entities","1","id","name","cardIds","2","3","ids","cardsSeed","task","laneReducer","state","arguments","length","undefined","action","type","uuid","lane","trim","Object","objectSpread","defineProperty","concat","toConsumableArray","applyAddLane","_action$card","card","laneId","cardId","updatedLane","applyAddCardToLane","_objectSpread5","sourceCardId","targetId","sourceLaneId","targetLaneId","idsLength","i","laneCardIds","isSourceLaneFound","includes","isTargetLaneFound","sourceLane","targetLane","sourceCardIndex","findIndex","targetCardIndex","updatedCardIds","splice","updatedSourceLaneCardIds","updatedSourceLane","updatedTargetLaneCardIds","updatedTargetLane","applyMoveCard","cardReducer","applyAddCard","rootReducer","combineReducers","laneState","cardState","logger","createLogger","store","createStore","applyMiddleware","doMoveCard","ItemTypes","Card","forwardRef","props","ref","connectDragSource","isDragging","connectDropTarget","cardRef","useRef","useImperativeHandle","getNode","current","cardClass","react_default","a","createElement","className","DragSourceCard","DragSource","beginDrag","cardIndex","connect","monitor","dragSource","DropTargetCard","DropTarget","hover","component","node","onCardMove","getItem","targetCardId","targetBoundingRect","getBoundingClientRect","targetMiddleY","bottom","top","targetClientY","getClientOffset","y","dropTarget","dispatch","useControlledInput","defaultValue","defaultValidation","validationCallback","value","test","_useState","useState","_useState2","slicedToArray","input","setInput","_useState3","_useState4","isInputValid","setIsInputValid","useEffect","validationResult","useComponentFocused","lossFocusEvents","onFocusLossCallback","initialFocus","isComponentFocused","setIsComponentFocused","handleClickOutside","e","contains","target","forEach","event","document","addEventListener","removeEventListener","AddNew","onAdd","_ref","_useControlledInput","_useControlledInput2","setValue","isValueValid","_useComponentFocused","_useComponentFocused2","focusComponentRef","onAddNewClose","onAddNewFinish","laneOrCardAccusative","textFieldProps","placeholder","onChange","onKeyDown","key","shiftKey","autoFocus","assign","rows","disabled","onClick","src","crossIcon","alt","plusIcon","DropTargetLane","map","index","components_Card","components_AddNew","Lane","App","laneIds","Boolean","components_Lane","ReactDOM","render","es","cjs","backend","HTML5Backend","components_App","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.1dee3c71.chunk.js","sourcesContent":["const LANE_ADD = 'LANE_ADD'\nconst CARD_ADD = 'CARD_ADD'\nconst CARD_MOVE = 'CARD_MOVE'\n\nexport {\n  LANE_ADD,\n  CARD_ADD,\n  CARD_MOVE,\n}\n","const lanesSeed = {\n  entities: {\n    1: { id: 1, name: 'To do', cardIds: ['1', '2', '3'] },\n    2: { id: 2, name: 'In progress', cardIds: [] },\n    3: { id: 3, name: 'Done', cardIds: [] },\n  },\n  ids: [1, 2, 3],\n}\n\nconst cardsSeed = {\n  entities: {\n    1: { id: 1, task: 'Quis quis do ullamco excepteur ipsum ut ad non.' },\n    2: { id: 2, task: 'Sint aliqua anim adipisicing aute. Dolore duis pariatur sint excepteur commodo nostrud aliqua culpa. Minim laborum voluptate commodo id nostrud ex eu.' },\n    3: { id: 3, task: 'Enim enim amet fugiat.' },\n  },\n  ids: [1, 2, 3],\n}\n\nexport {\n  lanesSeed,\n  cardsSeed,\n}\n","import uuid from 'uuid/v4'\nimport { LANE_ADD, CARD_ADD, CARD_MOVE } from '../constants/actionTypes'\nimport { lanesSeed } from '../constants/seeds'\n\nfunction applyAddLane(state, action) {\n  const id = uuid()\n  const lane = { id, name: action.name.trim(), cardIds: [] }\n  const entities = { ...state.entities, [id]: lane }\n  const ids = [...state.ids, id]\n\n  return { ...state, entities, ids }\n}\n\nfunction applyAddCardToLane(state, action) {\n  const { laneId, cardId } = action.card\n  const lane = state.entities[laneId]\n  const updatedLane = { ...lane, cardIds: [...lane.cardIds, cardId] }\n  const entities = { ...state.entities, [laneId]: updatedLane }\n\n  return { ...state, entities }\n}\n\nfunction applyMoveCard(state, action) {\n  const { sourceCardId, targetId } = action\n\n  // Search source and target lanes\n  let sourceLaneId = null\n  let targetLaneId = null\n  const idsLength = state.ids.length\n\n  for (let i = 0; i < idsLength; i += 1) {\n    const laneCardIds = state.entities[state.ids[i]].cardIds\n\n    const isSourceLaneFound = laneCardIds.includes(sourceCardId)\n    const isTargetLaneFound = laneCardIds.includes(targetId) || (state.ids[i] === targetId) // second condition need to handle card moving to new empty lane\n\n    if (isSourceLaneFound) {\n      sourceLaneId = state.ids[i]\n      if (targetLaneId) break\n    }\n\n    if (isTargetLaneFound) {\n      targetLaneId = state.ids[i]\n      if (sourceLaneId) break\n    }\n  }\n\n  const sourceLane = state.entities[sourceLaneId]\n  const targetLane = state.entities[targetLaneId] || state.entities[targetId] // second condition need to handle card moving to new empty lane\n\n  // Search source and target card indexes in cardIds array\n  const sourceCardIndex = sourceLane.cardIds.findIndex(cardId => cardId === sourceCardId)\n  const targetCardIndex = targetLane.cardIds.findIndex(cardId => cardId === targetId)\n\n  // Perform card move within one lane\n  if (sourceLaneId === targetLaneId) {\n    const updatedCardIds = [...sourceLane.cardIds]\n    updatedCardIds.splice(sourceCardIndex, 1)\n    updatedCardIds.splice(targetCardIndex, 0, sourceCardId)\n\n    const updatedLane = { ...sourceLane, cardIds: updatedCardIds }\n    const entities = { ...state.entities, [sourceLaneId]: updatedLane }\n    return { ...state, entities }\n  }\n\n  // Perform card move between lanes\n  const updatedSourceLaneCardIds = [...sourceLane.cardIds]\n  updatedSourceLaneCardIds.splice(sourceCardIndex, 1)\n  const updatedSourceLane = { ...sourceLane, cardIds: updatedSourceLaneCardIds } \n\n  const updatedTargetLaneCardIds = [...targetLane.cardIds]\n  updatedTargetLaneCardIds.splice(targetCardIndex, 0, sourceCardId)\n  const updatedTargetLane = { ...targetLane, cardIds: updatedTargetLaneCardIds }\n\n  const entities = { ...state.entities, [sourceLaneId]: updatedSourceLane, [targetLaneId]: updatedTargetLane }\n\n  return { ...state, entities }\n}\n\nfunction laneReducer(state = lanesSeed, action) {\n  switch (action.type) {\n    case LANE_ADD: {\n      return applyAddLane(state, action)\n    }\n    case CARD_ADD: {\n      return applyAddCardToLane(state, action)\n    }\n    case CARD_MOVE: {\n      return applyMoveCard(state, action)\n    }\n    default: return state\n  }\n}\n\nexport default laneReducer\n","import { CARD_ADD } from '../constants/actionTypes'\nimport { cardsSeed } from '../constants/seeds'\n\nfunction applyAddCard(state, action) {\n  const { cardId, task } = action.card\n  const card = { id: cardId, task: task.trim() }\n  const entities = { ...state.entities, [cardId]: card }\n  const ids = [...state.ids, cardId]\n\n  return { ...state, entities, ids }\n}\n\nfunction cardReducer(state = cardsSeed, action) {\n  switch (action.type) {\n    case CARD_ADD: {\n      return applyAddCard(state, action)\n    }\n    default: return state\n  }\n}\n\nexport default cardReducer\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport { createLogger } from 'redux-logger'\n\nimport laneReducer from '../reducers/laneReducer'\nimport cardReducer from '../reducers/cardReducer'\n\nconst rootReducer = combineReducers({\n  laneState: laneReducer,\n  cardState: cardReducer,\n})\n\nconst logger = createLogger()\n\nconst store = createStore(\n  rootReducer,\n  undefined,\n  applyMiddleware(logger),\n)\n\nexport default store\n","import { LANE_ADD, CARD_MOVE } from '../constants/actionTypes'\n\nfunction doAddLane(name) {\n  return {\n    type: LANE_ADD,\n    name,\n  }\n}\n\nfunction doMoveCard(sourceCardId, targetId) {\n  return {\n    type: CARD_MOVE,\n    sourceCardId,\n    targetId,\n  }\n}\n\nexport {\n  doAddLane,\n  doMoveCard,\n}\n","export const ItemTypes = {\n  CARD: 'card',\n}\n","import React, { useRef, forwardRef, useImperativeHandle } from 'react'\nimport { connect } from 'react-redux'\nimport { DragSource, DropTarget } from 'react-dnd'\n\nimport { doMoveCard } from '../../action_creators/lanes'\nimport { ItemTypes } from '../../constants/dndTypes'\n\nconst Card = forwardRef((props, ref) => {\n  const { task, connectDragSource, isDragging, connectDropTarget } = props\n\n  const cardRef = useRef()\n  // Exposing node to parent element (DnD HOC)\n  useImperativeHandle(ref, () => ({\n    getNode: () => cardRef.current,\n  }))\n  // Assign the drag source role to a node\n  connectDragSource(cardRef)\n  // Assign the drop target role to a node\n  connectDropTarget(cardRef)\n\n  let cardClass = 'box card'\n  if (isDragging) { cardClass += ' card_dragging' }\n\n  return (\n    <div className={cardClass} ref={cardRef}>\n      {task}\n    </div>\n  )\n})\n\n// Handling drop\nconst dropSpec = {\n  hover(props, monitor, component) {\n    if (!component) return null\n\n    // node = HTML Div element from imperative API\n    const node = component.getNode()\n    if (!node) return null\n\n    const { cardId, cardIndex, onCardMove } = props\n\n    const sourceCardIndex = monitor.getItem().cardIndex\n    const targetCardIndex = cardIndex\n\n    const sourceCardId = monitor.getItem().cardId\n    const targetCardId = cardId\n\n    // Don't replace items with themselves\n    if (sourceCardId === targetCardId) return\n\n    // Determine rectangle on screen\n    const targetBoundingRect = node.getBoundingClientRect()\n\n    // Get vertical middle\n    const targetMiddleY = (targetBoundingRect.bottom - targetBoundingRect.top) / 2\n\n    // Determine mouse position\n    const clientOffset = monitor.getClientOffset()\n\n    // Get pixels to the top\n    const targetClientY = clientOffset.y - targetBoundingRect.top\n\n    // Only perform the move when the mouse has crossed half of the items height\n    // When dragging downwards, only move when the cursor is below 50%\n    // When dragging upwards, only move when the cursor is above 50%\n    // Dragging downwards\n    if (sourceCardIndex < targetCardIndex && targetClientY < targetMiddleY) return\n    // Dragging upwards\n    if (sourceCardIndex > targetCardIndex && targetClientY > targetMiddleY) return\n\n    // Perform the move\n    onCardMove(sourceCardId, targetCardId)\n\n    // Updating the index of the moved card\n    monitor.getItem().cardIndex = targetCardIndex\n  },\n}\n\nfunction dropCollect(connect, monitor) {\n  return {\n    connectDropTarget: connect.dropTarget(),\n  }\n}\n\n// Handling drag'n'drop\nconst dragSpec = {\n  beginDrag(props) {\n    const { cardId, cardIndex } = props\n    return { cardId, cardIndex }\n  },\n}\n\nfunction dragCollect(connect, monitor) {\n  return {\n    connectDragSource: connect.dragSource(),\n    isDragging: monitor.isDragging(),\n  }\n}\n\nconst DragSourceCard = DragSource(ItemTypes.CARD, dragSpec, dragCollect)(Card)\nconst DropTargetCard = DropTarget(ItemTypes.CARD, dropSpec, dropCollect)(DragSourceCard)\n\n// Connecting redux\nfunction mapStateToProps(state, props) {\n  return {\n    task: state.cardState.entities[props.cardId].task,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onCardMove: (sourceCardId, targetCardId) => dispatch(doMoveCard(sourceCardId, targetCardId)),\n  }\n}\n\nconst ConnectedCard = connect(mapStateToProps, mapDispatchToProps)(DropTargetCard)\n\nexport default ConnectedCard\n","import Card from './Card'\n\nexport default Card\n","import { useState, useEffect } from 'react'\n\n// Custom state hook to control elements and validate input\nfunction useControlledInput(defaultValue = '', defaultValidation = false, validationCallback = value => /\\S+/.test(value)) {\n  const [input, setInput] = useState(defaultValue)\n  const [isInputValid, setIsInputValid] = useState(defaultValidation)\n\n  useEffect(() => {\n    const validationResult = validationCallback(input)\n    setIsInputValid(validationResult)\n  }, [input])\n\n  return [\n    input,\n    setInput,\n    isInputValid,\n    setIsInputValid,\n  ]\n}\n\nexport default useControlledInput\n","import useControlledInput from './useControlledInput'\n\nexport default useControlledInput\n","import { useState, useEffect, useRef } from 'react'\n\nfunction useComponentFocused(lossFocusEvents = ['click'], onFocusLossCallback = () => {}, initialFocus = false) {\n  const [isComponentFocused, setIsComponentFocused] = useState(initialFocus)\n  const ref = useRef(null)\n\n  function handleClickOutside(e) {\n    if (ref.current && !ref.current.contains(e.target)) {\n      setIsComponentFocused(false)\n      onFocusLossCallback()\n    }\n  }\n\n  useEffect(() => {\n    lossFocusEvents.forEach((event) => {\n      document.addEventListener(event, handleClickOutside)\n    })\n    return () => {\n      lossFocusEvents.forEach((event) => {\n        document.removeEventListener(event, handleClickOutside)\n      })\n    }\n  }, [])\n\n  return [\n    ref,\n    isComponentFocused,\n    setIsComponentFocused,\n  ]\n}\n\nexport default useComponentFocused\n","import useComponentFocused from './useComponentFocused'\n\nexport default useComponentFocused\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport uuid from 'uuid/v4'\n\nimport { doAddLane } from '../../action_creators/lanes'\nimport { doAddCard } from '../../action_creators/cards'\n\nimport useControlledInput from '../../customHooks/useControlledInput'\nimport useComponentFocused from '../../customHooks/usComponentFocused'\n\nimport plusIcon from '../../assets/img/plusIcon.svg'\nimport crossIcon from '../../assets/img/crossIcon.svg'\n\nfunction AddNew({ type, laneId, onAdd }) {\n  const [value, setValue, isValueValid] = useControlledInput()\n  const [focusComponentRef, isComponentFocused, setIsComponentFocused] = useComponentFocused(['click', 'drag'], () => setValue(''))\n\n  function onAddNewClick() {\n    setIsComponentFocused(true)\n  }\n\n  function onAddNewClose() {\n    setIsComponentFocused(false)\n    setValue('')\n  }\n\n  function onAddNewFinish() {\n    if (!isValueValid) return\n\n    onAdd(value, laneId)\n    onAddNewClose()\n  }\n\n  function onInputChange(e) {\n    setValue(e.target.value)\n  }\n\n  function onInputKeyDown(e) {\n    const { key, shiftKey } = e\n\n    switch (true) {\n      case (shiftKey && key === 'Enter'): {\n        break\n      }\n\n      case (key === 'Enter'): {\n        onAddNewFinish()\n        break\n      }\n\n      case (key === 'Escape' || key === 'Esc'): {\n        onAddNewClose()\n        break\n      }\n\n      default:\n        break\n    }\n  }\n\n  const laneOrCardAccusative = type === 'lane' ? 'колонку' : 'карточку'\n  const laneOrCardGenitive = type === 'lane' ? 'колонки' : 'карточки'\n\n  const textFieldProps = {\n    placeholder: `Введите название ${laneOrCardGenitive}`,\n    value,\n    onChange: onInputChange,\n    onKeyDown: onInputKeyDown,\n    autoFocus: true,\n  }\n\n  return (\n    isComponentFocused\n      ? (\n        <div className={`column add-new add-new_${type} add-new__form`} ref={focusComponentRef}>\n          {type === 'lane' ? <input className=\"box input add-new__input\" type=\"text\" {...textFieldProps} /> : <textarea className=\"box textarea add-new__textarea\" rows=\"2\" {...textFieldProps} />}\n          <div className=\"row add-new__buttons\">\n            <button className=\"button add-new__button\" type=\"button\" disabled={!isValueValid} onClick={onAddNewFinish}>{`Добавить ${laneOrCardAccusative}`}</button>\n            <img className=\"add-new__icon-cross\" src={crossIcon} alt=\"Close\" onClick={onAddNewClose} />\n          </div>\n        </div>\n      )\n\n      : (\n        <div className={`row add-new add-new_${type} add-new__placeholder-${type}`} onClick={onAddNewClick}>\n          <img className=\"add-new__icon-add\" src={plusIcon} alt={`New ${type}`} />\n          <div className=\"add-new__text\">{`Добавить еще одну ${laneOrCardAccusative}`}</div>\n        </div>\n      )\n\n  )\n}\n\nfunction mapDispatchToProps(dispatch, props) {\n  return {\n    onAdd: (value, laneId) => dispatch(props.type === 'lane' ? doAddLane(value) : doAddCard({ laneId, cardId: uuid(), task: value })),\n  }\n}\n\nconst ConnectedAddNew = connect(null, mapDispatchToProps)(AddNew)\n\nexport default ConnectedAddNew\n","import AddNew from './AddNew'\n\nexport default AddNew\n","import { CARD_ADD } from '../constants/actionTypes'\n\nfunction doAddCard(card) {\n  return {\n    type: CARD_ADD,\n    card,\n  }\n}\n\nexport {\n  doAddCard,\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { DropTarget } from 'react-dnd'\n\nimport { doMoveCard } from '../../action_creators/lanes'\nimport { ItemTypes } from '../../constants/dndTypes'\n\nimport Card from '../Card'\nimport AddNew from '../AddNew'\n\nfunction Lane({ lane, connectDropTarget }) {\n  return connectDropTarget(\n    <div className=\"column lane\">\n      <div className=\"lane__header\">{lane.name}</div>\n\n      <div className=\"lane__body\">\n        {lane.cardIds.map((cardId, index) => {\n          return <Card key={cardId} cardId={cardId} cardIndex={index} />\n        })}\n      </div>\n\n      <div className=\"lane__footer\">\n        <AddNew type=\"card\" laneId={lane.id} />\n      </div>\n    </div>,\n  )\n}\n\n// Handling drop\nconst dropSpec = {\n  hover(props, monitor) {\n    const { lane, onCardMove } = props\n\n    const sourceCardId = monitor.getItem().cardId\n\n    if (lane.cardIds.length) return\n\n    // Perform the move\n    onCardMove(sourceCardId, lane.id)\n  },\n}\n\nfunction dropCollect(connect) {\n  return {\n    connectDropTarget: connect.dropTarget(),\n  }\n}\n\nconst DropTargetLane = DropTarget(ItemTypes.CARD, dropSpec, dropCollect)(Lane)\n\n// Connecting redux\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onCardMove: (sourceCardId, laneId) => dispatch(doMoveCard(sourceCardId, laneId)),\n  }\n}\n\nfunction mapStateToProps(state, props) {\n  return {\n    lane: state.laneState.entities[props.laneId],\n  }\n}\n\nconst ConnectedLane = connect(mapStateToProps, mapDispatchToProps)(DropTargetLane)\n\nexport default ConnectedLane\n","import Lane from './Lane'\n\nexport default Lane\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport Lane from '../Lane'\nimport AddNew from '../AddNew'\n\nfunction App({ laneIds }) {\n  return (\n    <div className=\"row app\">\n      {Boolean(laneIds.length) && laneIds.map(laneId => (\n        <Lane key={laneId} laneId={laneId} />\n      ))}\n\n      <AddNew type=\"lane\" />\n    </div>\n  )\n}\n\nfunction mapStateToProps(state) {\n  return {\n    laneIds: state.laneState.ids,\n  }\n}\n\nconst ConnectedApp = connect(mapStateToProps)(App)\n\nexport default ConnectedApp\n","import App from './App'\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { DragDropContextProvider } from 'react-dnd'\nimport HTML5Backend from 'react-dnd-html5-backend'\n\nimport store from './store'\nimport App from './components/App'\n\nimport './index.scss'\n\nif (module.hot) {\n  module.hot.accept()\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <DragDropContextProvider backend={HTML5Backend}>\n      <App />\n    </DragDropContextProvider>\n  </Provider>,\n\n  document.getElementById('root'),\n)\n","module.exports = __webpack_public_path__ + \"static/media/plusIcon.61af6571.svg\";","module.exports = __webpack_public_path__ + \"static/media/crossIcon.220fb32e.svg\";"],"sourceRoot":""}